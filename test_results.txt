============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-9.0.2, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /mnt/c/Users/richa/Documents/GitHub/aibank
plugins: anyio-4.9.0
collecting ... collected 43 items

agent/test_a2a_stream.py::test_build_a2a_parts_contains_a2ui_dataparts PASSED [  2%]
agent/test_a2a_stream.py::test_stream_endpoint_returns_ndjson_parts PASSED [  4%]
agent/test_a2a_stream.py::test_extract_a2a_user_text_from_envelope_parts PASSED [  6%]
agent/test_a2a_stream.py::test_a2a_message_endpoint_returns_parts PASSED [  9%]
agent/test_a2a_stream.py::test_a2a_message_endpoint_returns_jsonrpc_envelope_when_id_present PASSED [ 11%]
agent/test_a2a_stream.py::test_stream_endpoint_returns_jsonrpc_events_when_id_present PASSED [ 13%]
agent/test_a2a_stream.py::test_a2a_agent_card_has_a2ui_extension PASSED  [ 16%]
agent/test_agent.py::test_overview_query_returns_accounts PASSED         [ 18%]
agent/test_agent.py::test_transactions_query_returns_transactions PASSED [ 20%]
agent/test_agent.py::test_mortgage_query_returns_mortgage_data PASSED    [ 23%]
agent/test_runtime.py::test_get_runtime_defaults_to_deterministic PASSED [ 25%]
agent/test_runtime.py::test_get_runtime_supports_adk PASSED              [ 27%]
agent/test_runtime.py::test_adk_runtime_parses_valid_json PASSED         [ 30%]
agent/test_runtime.py::test_adk_runtime_raises_on_invalid_json PASSED    [ 32%]
agent/test_templates.py::test_all_templates_validate PASSED              [ 34%]
mcp_server/test_mcp_protocol.py::test_mcp_server_can_start PASSED        [ 37%]
mcp_server/test_mcp_protocol.py::test_mcp_server_tool_discovery PASSED   [ 39%]
mcp_server/test_server.py::test_mock_data_has_one_account_per_type PASSED [ 41%]
mcp_server/test_server.py::test_mock_data_has_minimum_transactions PASSED [ 44%]
mcp_server/test_server.py::test_mock_data_uses_gbp PASSED                [ 46%]
mcp_server/test_server.py::test_mock_data_is_fictitious PASSED           [ 48%]
mcp_server/test_server.py::test_get_accounts_contains_all_types PASSED   [ 51%]
mcp_server/test_server.py::test_get_account_detail_invalid_id PASSED     [ 53%]
mcp_server/test_server.py::test_get_transactions_limit_and_sort PASSED   [ 55%]
mcp_server/test_server.py::test_credit_and_mortgage_tools PASSED         [ 58%]
mcp_server/test_server.py::test_get_accounts_returns_list PASSED         [ 60%]
mcp_server/test_server.py::test_get_accounts_includes_required_fields PASSED [ 62%]
mcp_server/test_server.py::test_get_accounts_type_values PASSED          [ 65%]
mcp_server/test_server.py::test_get_account_detail_current_account PASSED [ 67%]
mcp_server/test_server.py::test_get_account_detail_savings_account PASSED [ 69%]
mcp_server/test_server.py::test_get_account_detail_includes_customer PASSED [ 72%]
mcp_server/test_server.py::test_get_transactions_returns_array PASSED    [ 74%]
mcp_server/test_server.py::test_get_transactions_includes_required_fields PASSED [ 76%]
mcp_server/test_server.py::test_get_transactions_type_values PASSED      [ 79%]
mcp_server/test_server.py::test_get_transactions_default_limit PASSED    [ 81%]
mcp_server/test_server.py::test_get_transactions_sorted_descending PASSED [ 83%]
mcp_server/test_server.py::test_get_mortgage_summary_includes_required_fields PASSED [ 86%]
mcp_server/test_server.py::test_get_mortgage_summary_rate_type_valid PASSED [ 88%]
mcp_server/test_server.py::test_get_mortgage_summary_wrong_account_type PASSED [ 90%]
mcp_server/test_server.py::test_get_credit_card_statement_includes_required_fields PASSED [ 93%]
mcp_server/test_server.py::test_get_credit_card_statement_card_number_masked PASSED [ 95%]
mcp_server/test_server.py::test_get_credit_card_statement_recent_transactions PASSED [ 97%]
mcp_server/test_server.py::test_get_credit_card_statement_wrong_account_type PASSED [100%]

============================== 43 passed in 1.48s ==============================
